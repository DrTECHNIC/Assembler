# **Задание №4**
Разработать ассемблер и интерпретатор для учебной виртуальной машины (УВМ). Система команд УВМ представлена далее.

Для ассемблера необходимо разработать читаемое представление команд УВМ. Ассемблер принимает на вход файл с текстом исходной программы, путь к которой задается из командной строки. Результатом работы ассемблера является бинарный файл в виде последовательности байт, путь к которому задается из командной строки. Дополнительный ключ командной строки задает путь к файлулогу, в котором хранятся ассемблированные инструкции в духе списков “ключ=значение”, как в приведенных далее тестах.

Интерпретатор принимает на вход бинарный файл, выполняет команды УВМ и сохраняет в файле-результате значения из диапазона памяти УВМ. Диапазон также указывается из командной строки.

Форматом для файла-лога и файла-результата является xml.

Необходимо реализовать приведенные тесты для всех команд, а также написать и отладить тестовую программу.

**Загрузка константы**
| A | B | C |
| - | - | - |
| Биты 0—6 | Биты 7—10 | Биты 11—37 |
| 2 | Адрес | Константа |

Размер команды: 5 байт. Операнд: поле C. Результат: регистр по адресу, которым является поле B.

Тест (A=2, B=4, C=995):

_0x02, 0x1A, 0x1F, 0x00, 0x00_

**Чтение значения из памяти**
| A | B | C | D |
| - | - | - | - |
| Биты 0—6 | Биты 7—21 | Биты 22—25 | Биты 26—29 |
| 109 | Смещение | Адрес | Адрес |

Размер команды: 4 байт. Операнд: значение в памяти по адресу, которым является сумма адреса (регистр по адресу, которым является поле C) и смещения (поле B). Результат: регистр по адресу, которым является поле D.

Тест (A=109, B=812, C=10, D=4):

_0x6D, 0x96, 0x81, 0x12_

**Запись значения в память**
| A | B | C |
| - | - | - |
| Биты 0—6 | Биты 7—10 | Биты 11—42 |
| 5 | Адрес | Адрес |

Размер команды: 6 байт. Операнд: регистр по адресу, которым является поле B. Результат: значение в памяти по адресу, которым является поле C.

Тест (A=5, B=8, C=799):

_0x05, 0xFC, 0x18, 0x00, 0x00, 0x00_

**Бинарная операция: pow()**
| A | B | C | D |
| - | - | - | - |
| Биты 0—6 | Биты 7—10 | Биты 11—14 | Биты 15—46 |
| 49 | Адрес | Адрес | Адрес |

Размер команды: 6 байт. Первый операнд: значение в памяти по адресу, которым является поле D. Второй операнд: регистр по адресу, которым является поле B. Результат: регистр по адресу, которым является поле C.

Тест (A=49, B=10, C=0, D=372):

_0x31, 0x05, 0xBA, 0x00, 0x00, 0x00_

**Тестовая программа**
Выполнить поэлементно операцию pow() над двумя векторами длины 6. Результат записать во второй вектор.

# Установка
Перед началом работы с программой требуется скачать репозиторий и необходимые библиотеки.

Клонирование репозитория:
```Bash
git clone https://github.com/DrTECHNIC/Assembler
```
Скачивание библиотеки [pytest](https://github.com/pytest-dev/pytest) путём запуска файла [script.sh](https://github.com/DrTECHNIC/Assembler/blob/main/script.sh):
```Bash
script.sh
```
# Запуск
Запуск [main.py](https://github.com/DrTECHNIC/Assembler/blob/main/main.py):
```Bash
py main.py
```
Запуск [test.py](https://github.com/DrTECHNIC/Assembler/blob/main/test.py):
```Bash
pytest -v test.py
```
# Тесты
## Тест 1
![]()
## Тест 2
![]()
## Тест 3
![]()
## Общие тесты
![]()
